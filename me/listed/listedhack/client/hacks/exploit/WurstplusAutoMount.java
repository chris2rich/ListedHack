package me.listed.listedhack.client.hacks.exploit;

import java.util.function.Predicate;
import me.listed.listedhack.client.event.events.EventNetworkPacketEvent;
import me.listed.listedhack.client.hacks.WurstplusCategory;
import me.listed.listedhack.client.hacks.WurstplusHack;
import me.zero.alpine.fork.listener.EventHandler;
import me.zero.alpine.fork.listener.Listener;
import net.minecraft.entity.passive.AbstractChestHorse;
import net.minecraft.network.play.client.CPacketUseEntity;
import net.minecraft.network.play.client.CPacketUseEntity.Action;

public class WurstplusAutoMount extends WurstplusHack {
   @EventHandler
   private Listener<EventNetworkPacketEvent> on_packet_event_send = new Listener((event) -> {
      if (event.getPacket() instanceof CPacketUseEntity) {
         CPacketUseEntity packet = (CPacketUseEntity)event.getPacket();
         if (packet.func_149564_a(mc.field_71441_e) instanceof AbstractChestHorse && packet.func_149565_c() == Action.INTERACT_AT) {
            event.cancel();
         }
      }

   }, new Predicate[0]);

   public WurstplusAutoMount() {
      super(WurstplusCategory.WURSTPLUS_EXPLOIT);
      this.name = "Auto Mount";
      this.tag = "AutoMount";
      this.description = "allows you to mount chests";
   }
}
